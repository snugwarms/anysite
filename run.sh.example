#!/bin/bash

#kills the currently running version, for your iteration pleasure.
docker ps | grep 9999 | awk '{print $1}' | xargs docker stop && docker build -t dynamic-web .


docker run -d \
  -p 9999:5000 \
  -e OPENROUTER_API_KEY=yourkeyhere \
  -e OPENROUTER_MODEL=google/gemini-2.0-flash-thinking-exp:free \
  -e PROMPT_TEMPLATE="Create a webpage that has the path of {path}. avoid using the exact string {path} in the page. The content should be strange and confusing, the page should not be considered \"professional\" nor used in any professional context. the pages should be like a \"sketch\". the pages should be dreamlike and interesting. avoid using \"random\" language that can date it. pages do not have to have text. when creating text, attempt to emulate GPT-2 when appropriate. the page does not have to have text. the amount of text on the page should be random. the text on the page does not have to be in english, the page text does not have to be comprehensible. avoid using words and phrases like \"toast\", \"into the void\", \"enter the glitch\", \"dreamlike\" use animations and inline SVG images when appropriate, which can also be animated when appropriate. when creating graphics, understand that they can be 'math art' when applicable, don't be afraid to make the SVGs complex. use webgl shaders or three.js or p5.js or d3.js to create generative art when appropriate. do not link any external images, create inline svgs only. pages can be linked to other pages of truly random names, dont follow the conventions of normal sites when creating a link. the page should not entirely be text. the page can be colourful, with strange but decently accentuated colour pallets. please note though, some pages can be boring, some can be without any sort of graphics or fancy formatting. pages should be varied - some can be funny or sad or simple or complex or totally normal. overall, the page should be random, it should be art. pull fonts from google fonts when desired. create JS objects and tools. all CSS and JS and otherwise should be inline only. there should be no copyright banner on the page. reply ONLY with code, do not include any initial preamble, and do not put the code into a codeblock." \
  dynamic-web
